---
date: 2020-10-11 08:20
layout: 'post'
status: 'public'
---
![](https://cdn.pixabay.com/photo/2020/10/14/01/18/winter-5653129_1280.jpg)
<audio src="https://music.163.com/song/media/outer/url?id=536809" loop controls></audio>

<div id="audioBox"> 
<script type="text/javascript"> 
window.onload = function(){ 
var arr = ["https://music.163.com/song/media/outer/url?id=536809"></audio>
   "https://music.163.com/song/media/outer/url?id=1366904129" controls></audio>
    <audio src="https://music.163.com/song/media/outer/url?id=281951" controls></audio>"];               //把需要播放的歌曲从后往前排，这里已添加两首音乐，可继续添加多个音乐 
var myAudio = new Audio(); 
myAudio.preload = true; 
myAudio.controls = true; 
myAudio.src = arr.pop();         //每次读数组最后一个元素 
myAudio.addEventListener('ended', playEndedHandler, false); 
myAudio.play(); 
document.getElementById("audioBox").appendChild(myAudio); 
myAudio.loop = false;//禁止循环，否则无法触发ended事件 
function playEndedHandler(){ 
myAudio.src = arr.pop(); 
myAudio.play(); 
console.log(arr.length); 
!arr.length && myAudio.removeEventListener('ended',playEndedHandler,false);//只有一个元素时解除绑定 
} 
} 
</script> 
</div>


<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>一个页面中有多个audio标签，其中一个播放结束后自动播放下一个，audio连续播放</title>
</head>
<body>
    <audio src="https://music.163.com/song/media/outer/url?id=536809" controls></audio>
    <audio src="https://music.163.com/song/media/outer/url?id=1366904129" controls></audio>
    <audio src="https://music.163.com/song/media/outer/url?id=281951" controls></audio>
    <script type="text/javascript">
    var audios = document.getElementsByTagName("audio");
    for (var i = 0; i < audios.length; i++) {
        // console.log("audios "+i+"  SRC:" + audios[i].currentSrc);
        audios[i].addEventListener('ended', function() {
            // nextSibling 属性返回指定节点之后紧跟的节点，在相同的树层级中。
            var nextAudio = this.nextSibling.nextSibling;
            // tagName 属性返回元素的标签名。(大写)
            if (nextAudio.tagName == "AUDIO") {
                nextAudio.play();
            }
        }, false);
    }
    </script>
</body>
</html>
