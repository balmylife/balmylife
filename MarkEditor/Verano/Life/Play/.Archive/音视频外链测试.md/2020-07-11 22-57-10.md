---
date: 2019-05-30 21:55
layout: 'post'
status: 'public'
---

<video width="100%" controls="controls" autoplay="autoplay"><source src="https://github.com/behalcyon/cited_video/raw/master/video/Wellington%20Vacation%20Travel%20Guide%20%7C%20Expedia.mp4"></video>


audio标签 音频自动播放 autoplay loop controls
```
<audio src="http://music.163.com/song/media/outer/url?id=281951.mp3" autoplay loop controls ></audio>
```

iframe标签 音频自动播放 allow=“autoplay”
```
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=280 height=52 allow="autoplay" src="//music.163.com/outchain/player?type=2&id=28949359&auto=1"></iframe>
```

html video 视频自动播放 autoplay=“autoplay”
```
<html>
<body>
<video width="320" height="240" controls="controls" autoplay="autoplay">
<source src="https://media.w3.org/2010/05/sintel/trailer.mp4" type="video/mp4" />  
</video>
</body>
</html>
```


一个网易音乐外链地址长期有效，很简单的方法：

第一步打开网易云音乐，随便找到一首歌，播放，复制网址的ID，
例如：陈琳的《你的柔情我永远不懂》，网址是：
https://music.163.com/#/song?id=213267
很明显，ID是213267
那么，这首歌的真实地址就是（删除/#，song后面加：/media/outer/url）：
http://music.163.com/song/media/outer/url?id=213267
http://m10.music.126.net/20200711232201/f38cc480951a7d186af7a09d501f4dea/ymusic/48e5/f473/6784/241ace90780de7eac10307ad3532d3fe.mp3
这个地址不会失效的；
这就得到一个下载公式：
http://music.163.com/song/media/outer/url?id=ID数字
把上面ID数字换成网易云播放页面的id即可。

实例：
潘美辰：我曾用心爱着你
http://music.163.com/#/song?id=281951
mp3下载、外链地址：
http://music.163.com/song/media/outer/url?id=281951

**目前，html5 audio 标签只能同时播放一个音频文件，如何要添加多个MP3音频文件，然后按顺序一个接着一个连续播放，需要用JS代码来实现。**
**通过js来实现 audio 标签连续播放多个MP3音频**
```js
<div id="audioBox"> 
<script type="text/javascript"> 
window.onload = function(){ 
var arr = ["http://www.lmlblog.com/blog/bozhao/images/believe.mp3","http://www.lmlblog.com/blog/bozhao/images/shui.mp3"];               //把需要播放的歌曲从后往前排，这里已添加两首音乐，可继续添加多个音乐 
var myAudio = new Audio(); 
myAudio.preload = true; 
myAudio.controls = true; 
myAudio.src = arr.pop();         //每次读数组最后一个元素 
myAudio.addEventListener('ended', playEndedHandler, false); 
myAudio.play(); 
document.getElementById("audioBox").appendChild(myAudio); 
myAudio.loop = false;//禁止循环，否则无法触发ended事件 
function playEndedHandler(){ 
myAudio.src = arr.pop(); 
myAudio.play(); 
console.log(arr.length); 
!arr.length && myAudio.removeEventListener('ended',playEndedHandler,false);//只有一个元素时解除绑定 
} 
} 
</script> 
```

**js code**
```js
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>一个页面中有多个audio标签，其中一个播放结束后自动播放下一个，audio连续播放</title>
</head>
<body>
    <audio src="http://www.ytmp3.cn/down/49366.mp3" controls></audio>
    <audio src="http://www.ytmp3.cn/down/49382.mp3" controls></audio>
    <audio src="http://www.ytmp3.cn/down/49369.mp3" controls></audio>
    <script type="text/javascript">
    var audios = document.getElementsByTagName("audio");
    for (var i = 0; i < audios.length; i++) {
        // console.log("audios "+i+"  SRC:" + audios[i].currentSrc);
        audios[i].addEventListener('ended', function() {
            // nextSibling 属性返回指定节点之后紧跟的节点，在相同的树层级中。
            var nextAudio = this.nextSibling.nextSibling;
            // tagName 属性返回元素的标签名。(大写)
            if (nextAudio.tagName == "AUDIO") {
                nextAudio.play();
            }
        }, false);
    }
    </script>
</body>
</html>
```

